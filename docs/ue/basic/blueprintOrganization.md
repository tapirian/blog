# UE中事件、方法（函数）、宏与折叠节点深度对比

## 一、概念
### 1. 事件（Event）
- **异步触发机制**：通过特定条件（如按键/碰撞）触发异步逻辑流，执行过程与触发源解耦
- **无返回值设计**：专注动作触发，不处理数据反馈
- **多线程支持**：可在不同线程中执行，支持延迟节点（Delay/Timeline）
![](https://metaso-static.oss-cn-beijing.aliyuncs.com/metaso/pdf2texts_reading_mode/figures/cd5e3fdb-2339-473f-a315-daf0b9061c8e/174_0.jpg)
- **典型应用**：角色死亡动画触发、UI按钮响应、物理碰撞处理

### 2. 方法/函数（Function）
- **同步执行单元**：立即执行并返回结果，保证执行顺序
- **数据驱动核心**：必须包含输入/输出参数，支持局部变量
- **线程约束**：始终在主线程执行，禁止延迟操作
- **继承特性**：可被子类重写（无返回值函数转为事件）

### 3. 宏（Macro）
- **预处理代码块**：编译时展开的代码模板，本质为文本替换
- **多入口设计**：支持多个执行输入/输出引脚
- **作用域限制**：仅在定义蓝图内有效，无法跨类继承
- **内存特性**：多实例导致代码膨胀，无共享机制

### 4. 折叠节点（Collapsed Node）
- **可视化工具**：纯组织性结构，不影响执行逻辑
- **零运行开销**：展开前后字节码完全一致
- **开发辅助**：复杂逻辑模块化呈现，提升可读性

---

## 二、核心特性对比

| 维度                | 事件              | 方法/函数         | 宏                | 折叠节点          |
|---------------------|-------------------|-------------------|-------------------|-------------------|
| **执行线程**         | 多线程           | 主线程            | 主线程            | 不适用            |
| **返回值支持**       | ❌               | ✅                | ✅                | ❌                |
| **延迟节点支持**     | ✅               | ❌                | ✅                | ❌                |
| **局部变量**         | ❌               | ✅                | ✅（仅本地类型）   | ❌                |
| **继承性**           | 可重写           | 可重写            | ❌                | ❌                |
| **跨蓝图调用**       | ✅（需接口）     | ✅                | ❌                | ❌                |
| **内存占用**         | 单实例           | 单实例            | 多实例膨胀         | 零开销            |
| **调试支持**         | 断点追踪         | 堆栈跟踪          | 展开后调试         | 无特殊支持        |
| **执行效率**         | 中（含线程切换） | 高                | 中（预处理展开）   | 高                |


---

## 三、开发实践
- **优先使用函数**：当需要：
  - 确保执行顺序（如资源加载链）
  - 复杂数学运算
  - 需要返回值的数据处理
  
- **选用事件**：当涉及：
  - 异步触发逻辑（如动画事件）
  - 跨系统通信
  - 需要延迟执行

- **宏适用场景**：
  - 重复控制流模式（如定制分支逻辑）
  - 快速原型设计
  - 需要多入口/出口的流程

---


